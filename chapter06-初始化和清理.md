# chapter06-初始化和清理

## 6.1 用构造器保证初始化
构造器是一类特殊方法，它没有返回类型。

## 6.2 方法重载

### 6.2.1 区分重载的方法
每个参数必须有独一无二的参数类型列表。

### 6.2.2 使用基本类型重载
1.传入的数据类型小于方法中参数类型，传入数据到的类型就会被提升。
2.传入的数据类型比方法参数类型更宽，就必须使用窄化转型，否则编译器报错。

### 6.2.2 通过返回值区分重载方法
只有编译器能从上下文明确地判断出语句的含义，才是可行的重载方法。
不能使用返回值类型来区分重载方法。

## 6.3 无参构造器
无参构造器，又称默认构造器，如果创建一个没有构造器的类，编译器会自动为这个类添加一个无参构造器。
如果已经定义了一个构造器，无论是否有参数，编译器都不会自动创建一个无参构造器。

## 6.4 this关键字
非静态方法其实有一个隐藏的参数（this），位于所有显示参数之前，代表被操作对象的引用。

### 6.4.1 在构造器中调用构造器
在构造器中，如果this后加了参数列表，那里么就有了不同的含义，它会显示调用与该参数列表匹配的构造器。
构造器必须出现在方法的最开始部分，否则编译器会报错。

### 6.4.2 static的含义
static修饰的方法没有隐藏的参数this，不能从静态方法内部调用非静态方法（反过来可以）。

## 6.5 清理：终结和垃圾收集
垃圾收集器只知道如何释放有new分配的内存。为了释放其他方式分配的内存，使用finalize()方法。

### 6.5.1 finalize()的作用
finalize()的使用仅限于一种特殊情况，对象以某种方式（Java中的本地方法，使用C/C++）分配的存储空间，而不是通过创建对象来分配。

### 6.5.2 你必须执行清理

### 6.5.3 终止条件
[TerminationCondition.java](src/chapter06/TerminationCondition.java)  

### 6.5.4 垃圾收集器的工作原理

## 6.6 成员初始化
    局部变量必须显示初始化。
    
| 数据类型 | 默认初始值 |
| --- | --- |
| boolean | false |
| char | [nul] 0 |
| byte | 0 |
| short | 0 |
| int | 0 |
| long | 0 |
| float | 0.0 |
| double | 0.0 |
| reference | null |

指定初始化

## 6.7 构造器初始化
[OrderOfInitialization.java](src/chapter06/housekeeping/OrderOfInitialization.java)



### 6.7.1 初始化顺序

### 6.7.2 静态数据的初始化
    创建对象过程[p125]

### 6.7.3 显示静态初始化
静态块（静态子句）：第一次创建对象时，或第一次访问该类静态成员时，静态块执行。

[ExplicitStatic.java](src/chapter06/housekeeping/ExplicitStatic.java)

### 6.7.4 非静态实例初始化
非静态块（实例初始化子句）：初始化每个对象非静态变量。匿名内部类的初始化。
实例初始化子句在构造器器之前执行。可以用来保证无论调用哪个显示的构造器，某些操作都会发生。

## 6.8 数组初始化

### 6.8.1 动态数组创建

### 6.8.2 可变参数列表

## 6.9 枚举类型

## 6.10 新特性：局部变量类型推断（var）







    




